webpackJsonp([0,3],[function(e,t,a){!function(e,t){function a(){var t=r.getBoundingClientRect().width;t/c>540&&(t=540*c);var a=t/10;r.style.fontSize=a+"px",l.rem=e.rem=a}var i,n=e.document,r=n.documentElement,o=n.querySelector('meta[name="viewport"]'),s=n.querySelector('meta[name="flexible"]'),c=0,p=0,l=t.flexible||(t.flexible={});if(o){console.warn("将根据已有的meta标签来设置缩放比例");var d=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(p=parseFloat(d[1]),c=parseInt(1/p))}else if(s){var m=s.getAttribute("content");if(m){var u=m.match(/initial\-dpr=([\d\.]+)/),f=m.match(/maximum\-dpr=([\d\.]+)/);u&&(c=parseFloat(u[1]),p=parseFloat((1/c).toFixed(2))),f&&(c=parseFloat(f[1]),p=parseFloat((1/c).toFixed(2)))}}if(!c&&!p){var h=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),v=e.devicePixelRatio;c=h?v>=3&&(!c||c>=3)?3:v>=2&&(!c||c>=2)?2:1:1,p=1/c}if(r.setAttribute("data-dpr",c),!o)if(o=n.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+p+", maximum-scale="+p+", minimum-scale="+p+", user-scalable=no"),r.firstElementChild)r.firstElementChild.appendChild(o);else{var x=n.createElement("div");x.appendChild(o),n.write(x.innerHTML)}e.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(a,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(i),i=setTimeout(a,300))},!1),"complete"===n.readyState?n.body.style.fontSize=12*c+"px":n.addEventListener("DOMContentLoaded",function(e){n.body.style.fontSize=12*c+"px"},!1),a(),l.dpr=e.dpr=c,l.refreshRem=a,l.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},l.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))}]);
//# sourceMappingURL=flexible.js.map